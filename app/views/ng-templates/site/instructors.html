<div ng-controller="InstructorCtrl">
  <div class="content bg-lightGray parts-4 instructors-info">
    <div class="wrapper">
      <div class="cf">
        <section ng-repeat-start="instructor in randomList | orderBy:'rank'" id="{{ instructor.admin.first_name }}" class="pad--off" ng-click="viewInstructor(instructor)">
          <div class="image">
            <img ng-src="{{ instructor.image ? instructor.image : 'http://placehold.it/350x150' }}">
            <h2 class="name h--large"><span>{{ instructor.admin.first_name }}</span></h2>
          </div>
        </section>
        <div ng-repeat-end="" class="clearfix" ng-if="($index + 1) % 4 == 0 "></div>
      </div>
      <div class="book-cta">
        <a class="button large center primary"  href="#/schedule">Book A Ride</a>
      </div>
    </div>
  </div>

  <div class="modal instructor-modal" id="view-instructor-info">
    <div class="modal__box pad">
      <span class="close-btn modal-close">X</span>
      <section class="cf">
        <div class="image space--bottom">
          <img ng-src="{{ selectedInstructor.image ? selectedInstructor.image : 'http://placehold.it/350x150' }}">
        </div>
        <div class="details space--bottom">
          <h2 class="name h--large h--primary space--bottom"><span>{{ selectedInstructor.admin.first_name }}</span></h2>
          <p class="text-color-light">{{ selectedInstructor.motto }}</p>
        </div>
      </section>
      <section class="schedule cf space--top">
        <h3 class="h small">Ride with {{ selectedInstructor.admin.first_name }}</h3>

        <div class="row" ng-class="{ row: sched, unavailable: chkSched(sched), full: isFull(sched) }"
            ng-repeat="sched in schedules | orderBy:'date'">
          <span class="instructor">
            {{ sched.date | formatDate }}
          </span>
          <span class="time">{{ sched.start | formatTime }}</span>
          <span class="instructor">
            {{ sched.sub_instructor ? 'with ' + sched.sub_instructor.admin.first_name : '' }}
          </span>
          <span class="schedtype">{{ sched.type }}</span>
          <button class="btn btn--small btn--primary" ng-click="setSchedule(sched)">
            {{ isFull(sched) ? 'waitlist' : 'reserve' }}
          </button>
        </div>

      </section>
    </div>
  </div>

</div>
