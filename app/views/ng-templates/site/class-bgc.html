<div ng-if="isFrozen" class="content">
  <div class="wrapper">
    <p class="brand-color">Your account is frozen. Please contact the studio for more details.</p>
  </div>
</div>

<div class="content schedule" ng-controller="ClassCtrl">
  <div class="wrapper">

    <div class="branch-watermark">BGC</div>

    <div ng-if="resched">
      <h2 class="range">
        <span>Rescheduling: </span>
        {{ resched.date | formatDate }} - {{ resched.schedule.start | formatTime }} - Seat {{ resched.seat_number }}</h2>
        <a class="h small primary right" ng-click="cancelResched()">Cancel</a>
      <hr/>
    </div>

    <div class="header">
      <p ng-if="forWaitlist" class="intro large center">There's no available seat for this ride.<br>but you can join the waitlisted below </p>
      <!-- <h2 class="range">FORT BGC</h2> -->
      <h2 class="range">{{ daySched }}, {{ dateSched }} - {{ timeSched | formatTime }}</h2>
    </div>

    <div class="class seats-14">

      <div class="formation">
        <div class="front colums-2 seats">
          <span ng-click="setSeatNumber(24, $event)" ng-class="{ unavailable: checkSeat(24),hidden: 24 > sched.branch.num_bikes }">24</span>
          <span ng-click="setSeatNumber(21, $event)" ng-class="{ unavailable: checkSeat(21),hidden: 21 > sched.branch.num_bikes }">21</span>
          <span ng-click="setSeatNumber(23, $event)" ng-class="{ unavailable: checkSeat(23),hidden: 23 > sched.branch.num_bikes }">23</span>
          <span ng-click="setSeatNumber(20, $event)" ng-class="{ unavailable: checkSeat(20),hidden: 20 > sched.branch.num_bikes }">20</span>
          <span ng-click="setSeatNumber(22, $event)" ng-class="{ unavailable: checkSeat(22),hidden: 22 > sched.branch.num_bikes }">22</span>
          <span ng-click="setSeatNumber(19, $event)" ng-class="{ unavailable: checkSeat(19),hidden: 19 > sched.branch.num_bikes }">19</span>
        </div>
        <div class="front seats instructor" ng-class="{'has-sub-instructor': subInstructor}">
          <h3 class="h large face-secondary gray name">
            {{ instructor.admin.first_name }} {{ subInstructor ? ' &amp; ' + subInstructor.admin.first_name : ''}}
          </h3>
          <div class="image">
            <img ng-src="/assets/{{ instructor.image }}" ng-if="instructor.image">
          </div>
          <div ng-if="subInstructor" class="image">
            <img ng-src="/assets/{{ subInstructor.image }}" ng-if="subInstructor.image">
          </div>
        </div>
        <div class="front colums-2 right seats">
          <span ng-click="setSeatNumber(16, $event)" ng-class="{ unavailable: checkSeat(16),hidden: 16 > sched.branch.num_bikes }">16</span>
          <span ng-click="setSeatNumber(18, $event)" ng-class="{ unavailable: checkSeat(18),hidden: 18 > sched.branch.num_bikes }">18</span>
          <span ng-click="setSeatNumber(15, $event)" ng-class="{ unavailable: checkSeat(15),hidden: 15 > sched.branch.num_bikes }">15</span>
          <span ng-click="setSeatNumber(17, $event)" ng-class="{ unavailable: checkSeat(17),hidden: 17 > sched.branch.num_bikes }">17</span>
        </div>
      </div>

      <div class="formation back">
        <div class="back wide seats">
          <span ng-click="setSeatNumber(14, $event)" ng-class="{ unavailable: checkSeat(14),hidden: 14 > sched.branch.num_bikes }">14</span>
          <span ng-click="setSeatNumber(13, $event)" ng-class="{ unavailable: checkSeat(13),hidden: 13 > sched.branch.num_bikes }">13</span>
          <span ng-click="setSeatNumber(12, $event)" ng-class="{ unavailable: checkSeat(12),hidden: 12 > sched.branch.num_bikes }">12</span>
          <span ng-click="setSeatNumber(11, $event)" ng-class="{ unavailable: checkSeat(11),hidden: 11 > sched.branch.num_bikes }">11</span>
          <span ng-click="setSeatNumber(10, $event)" ng-class="{ unavailable: checkSeat(10),hidden: 10 > sched.branch.num_bikes }">10</span>
          <span ng-click="setSeatNumber(9, $event)" ng-class="{ unavailable: checkSeat(9),hidden: 9 > sched.branch.num_bikes }">9</span>
          <span ng-click="setSeatNumber(8, $event)" ng-class="{ unavailable: checkSeat(8),hidden: 8 > sched.branch.num_bikes }">8</span>
          <span ng-click="setSeatNumber(7, $event)" ng-class="{ unavailable: checkSeat(7),hidden: 7 > sched.branch.num_bikes }">7</span>
          <span ng-click="setSeatNumber(6, $event)" ng-class="{ unavailable: checkSeat(6),hidden: 6 > sched.branch.num_bikes }">6</span>
          <span ng-click="setSeatNumber(5, $event)" ng-class="{ unavailable: checkSeat(5),hidden: 5 > sched.branch.num_bikes }">5</span>
          <span ng-click="setSeatNumber(4, $event)" ng-class="{ unavailable: checkSeat(4),hidden: 4 > sched.branch.num_bikes }">4</span>
          <span ng-click="setSeatNumber(3, $event)" ng-class="{ unavailable: checkSeat(3),hidden: 3 > sched.branch.num_bikes }">3</span>
          <span ng-click="setSeatNumber(2, $event)" ng-class="{ unavailable: checkSeat(2),hidden: 2 > sched.branch.num_bikes }">2</span>
          <span ng-click="setSeatNumber(1, $event)" ng-class="{ unavailable: checkSeat(1),hidden: 1 > sched.branch.num_bikes }">1</span>
        </div>

         <div class="back wide seats">
          <span ng-click="setSeatNumber(34, $event)" ng-class="{ unavailable: checkSeat(34),hidden: 34 > sched.branch.num_bikes }">34</span>
          <span ng-click="setSeatNumber(33, $event)" ng-class="{ unavailable: checkSeat(33),hidden: 33 > sched.branch.num_bikes }">33</span>
          <span ng-click="setSeatNumber(32, $event)" ng-class="{ unavailable: checkSeat(32),hidden: 32 > sched.branch.num_bikes }">32</span>
          <span ng-click="setSeatNumber(31, $event)" ng-class="{ unavailable: checkSeat(31),hidden: 31 > sched.branch.num_bikes }">31</span>
          <span ng-click="setSeatNumber(30, $event)" ng-class="{ unavailable: checkSeat(30),hidden: 30 > sched.branch.num_bikes }">30</span>
          <span ng-click="setSeatNumber(29, $event)" ng-class="{ unavailable: checkSeat(29),hidden: 29 > sched.branch.num_bikes }">29</span>
          <span ng-click="setSeatNumber(28, $event)" ng-class="{ unavailable: checkSeat(28),hidden: 28 > sched.branch.num_bikes }">28</span>
          <span ng-click="setSeatNumber(27, $event)" ng-class="{ unavailable: checkSeat(27),hidden: 27 > sched.branch.num_bikes }">27</span>
          <span ng-click="setSeatNumber(26, $event)" ng-class="{ unavailable: checkSeat(26),hidden: 26 > sched.branch.num_bikes }">26</span>
          <span ng-click="setSeatNumber(25, $event)" ng-class="{ unavailable: checkSeat(25),hidden: 25 > sched.branch.num_bikes }">25</span>
        </div>

        <div class="back wide seats">
          <span ng-click="setSeatNumber(37, $event)" ng-class="{ unavailable: checkSeat(37),hidden: 37 > sched.branch.num_bikes }">37</span>
          <span ng-click="setSeatNumber(36, $event)" ng-class="{ unavailable: checkSeat(36),hidden: 36 > sched.branch.num_bikes }">36</span>
          <span ng-click="setSeatNumber(35, $event)" ng-class="{ unavailable: checkSeat(35),hidden: 35 > sched.branch.num_bikes }">35</span>
        </div>
      </div>

    <div class="controls">
      <div class="buttons">
        <a ng-if="!resched && !forWaitlist" ng-disabled="booking"  class="button large primary center" ng-click="bookSchedule()">Book This Ride</a>
        <a class="button large primary center" ng-href="{{ backButtonPath }}">Back to Schedule</a>
        <a ng-if="resched && !forWaitlist" ng-disabled="booking"  class="button large center" ng-click="bookSchedule()">Reschedule Ride</a>
        <a ng-if="forWaitlist" ng-disabled="booking"  class="button large center" ng-click="bookSchedule()">Join the WaitList</a>
      </div>

      <div class="legend-wrapper">
        <ul class="legend">
          <li class="free">Free Bikes</li>
          <li class="reserved">Reserved Bikes</li>
          <li class="selection">Your Selection</li>
        </ul>
      </div>
    </div>

  </div>
</div>
